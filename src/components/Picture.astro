---
const { src, alt, width, height, formats = ['webp', 'avif'] } = Astro.props;
---

<picture>
  {formats.includes('avif') && <source srcset={src.replace(/\.\w+$/, '.avif')} type="image/avif" />}
  {formats.includes('webp') && <source srcset={src.replace(/\.\w+$/, '.webp')} type="image/webp" />}
  <img src={src} alt={alt} width={width} height={height} loading="lazy" class="rounded-md" />
</picture>
