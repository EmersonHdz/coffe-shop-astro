---
import {    ContactPageSchema } from '../types';
import  Layout from '../layouts/Layout.astro';
import LocationMap from '../components/contact/LocationMap.astro';
import ContactForm from '../components/contact/ContactForm.astro';


//conect to the WordPress REST API to fetch the "contact" page
const url = `${import.meta.env.API_URL}/pages?slug=contact`;
const response = await fetch(url);
const json = await response.json();
const data = ContactPageSchema.parse(json[0]);

---
 
<Layout 
 title={data.title.rendered}
 description={data.acf.subtitle}
 bgImage={data.featured_image.full.url}>  

 <div class="text-xl space-y-3 mt-10 lg:mt-0" set:html={data.content.rendered}></div>

 <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

   <ContactForm />
    <LocationMap
     location={data.acf.location}
    />
 </div>
 
</Layout>